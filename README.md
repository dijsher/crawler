<h3 align="center">一款基于c++编写的简单爬虫</h3>
### 1、简介
该项目是基于C++编写的一个爬虫程序，主要框架参考了从https://zhuanlan.zhihu.com/p/144539518这篇文章，增加了数据清洗和筛选部分，并将输出流从原有的打印改为了文件输出流。
### 2、工作原理
该项目主要通过windows提供的http访问接口WinHttp向需要爬取的服务器发送请求并读取数据。与服务器建立连接步骤如下：
1、首先打开一个Session来获得一个HINTERNET session句柄
2、再使用该句柄与服务器建立连接并得到一个HINTERNET connect句柄
3、再使用这个connect句柄得到一个HINTERNET requst句柄，
4、通过这个requst句柄向服务器发送数据并得到返回数据。
在处理返回数据时，该项目增加了回传队列，将回传数据中的返回的网址放入队列以便进一步爬取数据。同时，设置本地化并创建宽字符文件流，以输出模式打开文件，将已经返回的数据写入文件。
完成爬取后，依次关闭request，connect，session句柄并可在输出文件中分析返回数据。
### 3、不足
1) 目前该简易爬虫对部署了反爬机制的服务器爬取效果较差。
2）依次根据回传队列中的网址建立新的连接时，运行速度较慢，尤其爬取较大型的网站时很容易造成返回数据中的网址过多，程序运行时间过长的问题。
3）数据清洗部分仍然不成熟。
4）目前一次只能爬取一个网站以及其返回数据中的网站，要爬取多个url时需要运行结束后手动修改再重新运行程序。
